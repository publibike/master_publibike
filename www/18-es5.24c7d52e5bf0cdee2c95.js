!function(){function l(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function n(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"f+ep":function(u,e,r){"use strict";r.r(e),r.d(e,"LoginPageModuleNgFactory",(function(){return I}));var t=r("8Y7J"),o=function l(){n(this,l)},i=r("pMnS"),s=r("SVse"),a=r("MKJQ"),b=r("sZkV"),c=r("s7LF"),g=r("mrSG"),d=function(){function u(l,e,r,t,o){n(this,u),this.formBuilder=l,this.authServices=e,this.navCtrl=r,this.loadingCtrl=t,this.storage=o,this.validation_messages={email:[{type:"required",message:" El correo es requerido"},{type:"pattern",message:"Ingrese un correo v\xe1lido"}],password:[{type:"required",message:" El password es requerido"},{type:"minlength",message:"Minimo 5 letras para el password"}]},this.errorMessage="",this.loginForm=this.formBuilder.group({email:new c.c("",c.l.compose([c.l.required,c.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new c.c("",c.l.compose([c.l.required,c.l.minLength(5)]))})}var e,r,t;return e=u,(r=[{key:"ngOnInit",value:function(){}},{key:"presentLoading",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.loadingCtrl.create({cssClass:"my-custom-class",message:"Cargando..."});case 2:return this.loading=l.sent,l.next=5,this.loading.present();case 5:case"end":return l.stop()}}),l,this)})))}},{key:"loginUser",value:function(l){var n=this;this.presentLoading(),this.authServices.loginUser(l).then((function(l){return Object(g.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.errorMessage="",this.storage.set("isUserLoggedIn",!0),this.storage.set("userId",l),this.loading.dismiss(),this.navCtrl.navigateForward("/menu/home");case 1:case"end":return n.stop()}}),n,this)})))})).catch((function(l){n.loading.dismiss(),console.log("ERROR",l.name),console.log("Error",typeof l.name),"SyntaxError"==l.name?n.errorMessage="Correo y/o clave incorrecta":"TypeError"===l.name?(console.log("HELLO"),n.errorMessage="Problemas conectando al servidor"):(console.log("hola"),n.errorMessage=l)}))}},{key:"goToRegister",value:function(){this.navCtrl.navigateForward("/register")}}])&&l(e.prototype,r),t&&l(e,t),u}(),p=r("fKRy"),m=r("xgBC"),h=t.rb({encapsulation:0,styles:[[""]],data:{}});function f(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"p",[["id","alertUser"]],null,null,null,null,null)),(l()(),t.Pb(2,null,[" ",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.message)}))}function v(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.cb(16777216,null,null,1,null,f)),t.sb(2,16384,null,0,s.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.cb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.loginForm.get("email").hasError(n.context.$implicit.type)&&(u.loginForm.get("email").dirty||u.loginForm.get("email").touched))}),null)}function y(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"p",[["id","alertUser"]],null,null,null,null,null)),(l()(),t.Pb(2,null,[" ",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.message)}))}function C(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.cb(16777216,null,null,1,null,y)),t.sb(2,16384,null,0,s.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.cb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.loginForm.get("password").hasError(n.context.$implicit.type)&&(u.loginForm.get("password").dirty||u.loginForm.get("password").touched))}),null)}function F(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,40,"ion-content",[],null,null,null,a.x,a.d)),t.sb(1,49152,null,0,b.s,[t.h,t.l,t.z],null,null),(l()(),t.tb(2,0,null,0,3,"div",[["class","header-index"]],null,null,null,null,null)),(l()(),t.tb(3,0,null,null,0,"img",[["class","img-header"],["src","assets/img/background-publibike.jpg"]],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"div",[["class","logo-publibike-in"]],null,null,null,null,null)),(l()(),t.tb(5,0,null,null,0,"img",[["src","assets/img/logo-ekobike.png"]],null,null,null,null,null)),(l()(),t.Pb(-1,0,["` "])),(l()(),t.tb(7,0,null,0,33,"form",[["class","form-ui"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Hb(l,9).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Hb(l,9).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.loginUser(r.loginForm.value)&&e),e}),null,null)),t.sb(8,16384,null,0,c.p,[],null,null),t.sb(9,540672,null,0,c.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Kb(2048,null,c.a,null,[c.e]),t.sb(11,16384,null,0,c.j,[[4,c.a]],null,null),(l()(),t.tb(12,0,null,null,8,"ion-item",[["color","secondary"]],null,null,null,a.C,a.i)),t.sb(13,49152,null,0,b.F,[t.h,t.l,t.z],{color:[0,"color"]},null),(l()(),t.tb(14,0,null,0,6,"ion-input",[["color","tertiary"],["formControlName","email"],["placeholder","Correo"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.Hb(l,15)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Hb(l,15)._handleInputEvent(u.target)&&e),e}),a.B,a.h)),t.sb(15,4341760,null,0,b.Ib,[t.r,t.l],null,null),t.Kb(1024,null,c.g,(function(l){return[l]}),[b.Ib]),t.sb(17,671744,null,0,c.d,[[3,c.a],[8,null],[8,null],[6,c.g],[2,c.o]],{name:[0,"name"]},null),t.Kb(2048,null,c.h,null,[c.d]),t.sb(19,16384,null,0,c.i,[[4,c.h]],null,null),t.sb(20,49152,null,0,b.E,[t.h,t.l,t.z],{color:[0,"color"],placeholder:[1,"placeholder"]},null),(l()(),t.tb(21,0,null,null,2,"div",[["class","validation-error"]],null,null,null,null,null)),(l()(),t.cb(16777216,null,null,1,null,v)),t.sb(23,278528,null,0,s.j,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(24,0,null,null,8,"ion-item",[["color","secondary"]],null,null,null,a.C,a.i)),t.sb(25,49152,null,0,b.F,[t.h,t.l,t.z],{color:[0,"color"]},null),(l()(),t.tb(26,0,null,0,6,"ion-input",[["color","tertiary"],["formControlName","password"],["placeholder","Contrase\xf1a"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.Hb(l,27)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Hb(l,27)._handleInputEvent(u.target)&&e),e}),a.B,a.h)),t.sb(27,4341760,null,0,b.Ib,[t.r,t.l],null,null),t.Kb(1024,null,c.g,(function(l){return[l]}),[b.Ib]),t.sb(29,671744,null,0,c.d,[[3,c.a],[8,null],[8,null],[6,c.g],[2,c.o]],{name:[0,"name"]},null),t.Kb(2048,null,c.h,null,[c.d]),t.sb(31,16384,null,0,c.i,[[4,c.h]],null,null),t.sb(32,49152,null,0,b.E,[t.h,t.l,t.z],{color:[0,"color"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(l()(),t.tb(33,0,null,null,2,"div",[["class","validation-error"]],null,null,null,null,null)),(l()(),t.cb(16777216,null,null,1,null,C)),t.sb(35,278528,null,0,s.j,[t.N,t.K,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(36,0,null,null,1,"p",[["id","alertUser"]],null,null,null,null,null)),(l()(),t.Pb(37,null,[" ",""])),(l()(),t.tb(38,0,null,null,2,"ion-button",[["class","button-login"],["color","primary"],["text-center",""],["type","Submit"]],null,null,null,a.v,a.b)),t.sb(39,49152,null,0,b.i,[t.h,t.l,t.z],{color:[0,"color"],disabled:[1,"disabled"],type:[2,"type"]},null),(l()(),t.Pb(-1,0,[" INICIAR SESI\xd3N "])),(l()(),t.tb(41,0,null,null,5,"ion-footer",[],null,null,null,a.y,a.e)),t.sb(42,49152,null,0,b.x,[t.h,t.l,t.z],null,null),(l()(),t.tb(43,0,null,0,3,"div",[["class","new-user"]],null,null,null,null,null)),(l()(),t.tb(44,0,null,null,2,"ion-button",[["class","register"],["expand","full"],["full",""],["outline",""]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.goToRegister()&&e),e}),a.v,a.b)),t.sb(45,49152,null,0,b.i,[t.h,t.l,t.z],{expand:[0,"expand"]},null),(l()(),t.Pb(-1,0,[" \xbfEres un usuario nuevo? "]))],(function(l,n){var u=n.component;l(n,9,0,u.loginForm),l(n,13,0,"secondary"),l(n,17,0,"email"),l(n,20,0,"tertiary","Correo"),l(n,23,0,u.validation_messages.email),l(n,25,0,"secondary"),l(n,29,0,"password"),l(n,32,0,"tertiary","Contrase\xf1a","password"),l(n,35,0,u.validation_messages.password),l(n,39,0,"primary",!u.loginForm.valid,"Submit"),l(n,45,0,"full")}),(function(l,n){var u=n.component;l(n,7,0,t.Hb(n,11).ngClassUntouched,t.Hb(n,11).ngClassTouched,t.Hb(n,11).ngClassPristine,t.Hb(n,11).ngClassDirty,t.Hb(n,11).ngClassValid,t.Hb(n,11).ngClassInvalid,t.Hb(n,11).ngClassPending),l(n,14,0,t.Hb(n,19).ngClassUntouched,t.Hb(n,19).ngClassTouched,t.Hb(n,19).ngClassPristine,t.Hb(n,19).ngClassDirty,t.Hb(n,19).ngClassValid,t.Hb(n,19).ngClassInvalid,t.Hb(n,19).ngClassPending),l(n,26,0,t.Hb(n,31).ngClassUntouched,t.Hb(n,31).ngClassTouched,t.Hb(n,31).ngClassPristine,t.Hb(n,31).ngClassDirty,t.Hb(n,31).ngClassValid,t.Hb(n,31).ngClassInvalid,t.Hb(n,31).ngClassPending),l(n,37,0,u.errorMessage)}))}var w=t.pb("app-login",d,(function(l){return t.Sb(0,[(l()(),t.tb(0,0,null,null,1,"app-login",[],null,null,null,F,h)),t.sb(1,114688,null,0,d,[c.b,p.a,b.Eb,b.Bb,m.b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),H=r("iInd"),k=function l(){n(this,l)},I=t.qb(o,[],(function(l){return t.Eb([t.Fb(512,t.j,t.V,[[8,[i.a,w]],[3,t.j],t.x]),t.Fb(4608,s.m,s.l,[t.u]),t.Fb(4608,c.n,c.n,[]),t.Fb(4608,b.b,b.b,[t.z,t.g]),t.Fb(4608,b.Db,b.Db,[b.b,t.j,t.r]),t.Fb(4608,b.Gb,b.Gb,[b.b,t.j,t.r]),t.Fb(4608,c.b,c.b,[]),t.Fb(1073742336,s.b,s.b,[]),t.Fb(1073742336,c.m,c.m,[]),t.Fb(1073742336,c.f,c.f,[]),t.Fb(1073742336,b.zb,b.zb,[]),t.Fb(1073742336,H.n,H.n,[[2,H.s],[2,H.m]]),t.Fb(1073742336,k,k,[]),t.Fb(1073742336,c.k,c.k,[]),t.Fb(1073742336,o,o,[]),t.Fb(1024,H.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}])}();