{"version":3,"sources":["webpack:///src/app/subscribe-campaing/subscribe-campaing.page.scss","webpack:///src/app/subscribe-campaing/subscribe-campaing.page.ts","webpack:///src/app/subscribe-campaing/subscribe-campaing-routing.module.ts","webpack:///src/app/subscribe-campaing/subscribe-campaing.module.ts","webpack:///src/app/subscribe-campaing/subscribe-campaing.page.html"],"names":["SubscribeCampaingPage","navCtrl","activeRoute","storage","loadingCtrl","apiService","alertController","params","campaing","user","snapshot","paramMap","get","console","log","getCampaing","campToSend","id","_id","imagen","nombre","pago_km","zona","fecha_inicio","fecha_final","estado","registerCampaing","response","create","cssClass","header","message","buttons","text","handler","goToCampaings","alert","present","navigateForward","selector","template","routes","path","component","SubscribeCampaingPageRoutingModule","imports","forChild","exports","SubscribeCampaingPageModule","declarations"],"mappings":"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","file":"subscribe-campaing-subscribe-campaing-module-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N1YnNjcmliZS1jYW1wYWluZy9zdWJzY3JpYmUtY2FtcGFpbmcucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { ApiPublibikeMarcaService } from '../services/api-publibike-marca.service';\n\n@Component({\n  selector: 'app-subscribe-campaing',\n  templateUrl: './subscribe-campaing.page.html',\n  styleUrls: ['./subscribe-campaing.page.scss'],\n})\nexport class SubscribeCampaingPage {\n\n  params = null;\n  campaing: any = {}\n  user: any = {}\n\n  constructor(\n    private navCtrl: NavController,\n    private activeRoute: ActivatedRoute,\n    private storage: Storage,\n    private loadingCtrl: LoadingController,\n    private apiService: ApiPublibikeMarcaService,\n    private alertController: AlertController\n  ) { }\n\n  async ionViewDidEnter() {\n    this.params = this.activeRoute.snapshot.paramMap.get('id')\n    console.log(this.params)\n    this.campaing = await this.apiService.getCampaing(this.params)\n    console.log(this.campaing)\n    this.user = await this.storage.get(\"userId\")\n    console.log(this.user)\n\n    // this.campaing = user.campanas.filter((item) => {\n    //   return item._id === this.params\n    // })\n  }\n  async registerToCampaing() {\n    const campToSend = {\n      id: this.campaing._id,\n      imagen: this.campaing.imagen,\n      nombre: this.campaing.nombre,\n      pago_km: this.campaing.pago_km,\n      zona: this.campaing.zona,\n      fecha_inicio: this.campaing.fecha_inicio,\n      fecha_final: this.campaing.fecha_final,\n      estado: this.campaing.estado\n    }\n    const response = await this.apiService.registerCampaing(campToSend)\n    \n    let alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Atención',\n      // subHeader: '¿Estas movilizandote a pie?',\n      message: `${response}`,\n      buttons: [{\n        text: 'Ok',\n        handler: () => {\n          this.goToCampaings()\n        }\n      }]\n    });\n    await alert.present();\n  }\n  goToCampaings() {\n    this.navCtrl.navigateForward(\"menu/campaings\");\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SubscribeCampaingPage } from './subscribe-campaing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SubscribeCampaingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubscribeCampaingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SubscribeCampaingPageRoutingModule } from './subscribe-campaing-routing.module';\n\nimport { SubscribeCampaingPage } from './subscribe-campaing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SubscribeCampaingPageRoutingModule\n  ],\n  declarations: [SubscribeCampaingPage]\n})\nexport class SubscribeCampaingPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot>\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"title-publibike degrade-orange\\\">\\n    <h2>INICIANDO NUEVO RECORRIDO</h2>\\n  </div>\\n  <h3 class=\\\"title-campaing\\\">\\n    Vas a iniciar tu recorrido con la siguiente campaña:\\n  </h3>\\n  <div class=\\\"row logo-campaing\\\" *ngIf=\\\"campaing\\\">\\n    <div class=\\\"column\\\">\\n      <img src=\\\"{{campaing.imagen}}\\\">\\n    </div>\\n  </div>\\n  <div class=\\\"row begin-campaing\\\">\\n    <div class=\\\"column\\\">\\n      <div class=\\\"campaing-info\\\">\\n        <h4>Campaña <small>{{campaing.nombre}}</small></h4>\\n      </div>\\n    </div>\\n    <div class=\\\"column\\\">\\n      <div class=\\\"campaing-info\\\">\\n        <h4>Zonas <small> {{campaing.zona}}</small></h4>\\n      </div>\\n    </div>\\n    <div class=\\\"column-full\\\">\\n      <div class=\\\"campaing-info\\\">\\n        <h4>Duración <small>{{campaing.fecha_inicio}} - {{campaing.fecha_final}}</small></h4>\\n      </div>\\n    </div>\\n    <div class=\\\"column\\\">\\n      <h4>Pago por Km <small>{{campaing.pago_km}}</small></h4>\\n    </div>\\n  </div>\\n  <ion-button color=\\\"transparent\\\" full outline class=\\\"ui button begin-activity\\\" (click)=\\\"registerToCampaing()\\\">ACEPTAR\\n  </ion-button>\\n</ion-content>\";"]}