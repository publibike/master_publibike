{"version":3,"sources":["./src/app/login/login.page.ts","./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login-routing.module.ts","./src/app/login/login.page.scss"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { AuthenticateService } from '../services/authenticate.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  loading: any;\n  loginForm: FormGroup;\n  validation_messages = {\n    email: [\n      { type: \"required\", message: \" El correo es requerido\" },\n      { type: \"pattern\", message: \"Ingrese un correo válido\" }\n    ],\n    password: [\n      { type: \"required\", message: \" El password es requerido\" },\n      { type: \"minlength\", message: \"Minimo 5 letras para el password\" }\n    ]\n  };\n  errorMessage: string = \"\";\n  constructor(\n    private formBuilder: FormBuilder,\n    private authServices: AuthenticateService,\n    private navCtrl: NavController,\n    private loadingCtrl: LoadingController,\n    private storage: Storage) {\n    this.loginForm = this.formBuilder.group({\n      email: new FormControl(\n        \"\",\n        Validators.compose([\n          Validators.required,\n          Validators.pattern(\"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$\")\n        ])\n      ),\n      password: new FormControl(\n        \"\",\n        Validators.compose([\n          Validators.required,\n          Validators.minLength(5)\n        ])\n      )\n    })\n  }\n\n  ngOnInit() {\n  }\n  async presentLoading() {\n    this.loading = await this.loadingCtrl.create({\n      cssClass: 'my-custom-class',\n      message: 'Cargando...'\n    });\n    await this.loading.present();\n  }\n  loginUser(credentials) {\n    this.presentLoading();\n    this.authServices\n      .loginUser(credentials)\n      .then(async res => {\n        this.errorMessage = \"\";\n        this.storage.set(\"isUserLoggedIn\", true);\n        this.storage.set(\"userId\", res);\n        this.loading.dismiss();\n        this.navCtrl.navigateForward(\"/menu/home\");\n      })\n      .catch(err => {\n        this.loading.dismiss();\n        console.log(\"ERROR\", err.name)\n        console.log(\"Error\", typeof (err.name))\n        if (err.name == 'SyntaxError') {\n          this.errorMessage = \"Correo y/o clave incorrecta\";\n        } else if (err.name === 'TypeError') {\n          console.log(\"HELLO\")\n          this.errorMessage = \"Problemas conectando al servidor\";\n        } else {\n          console.log(\"hola\")\n          this.errorMessage = err;\n        }\n      })\n  }\n  goToRegister() {\n    this.navCtrl.navigateForward(\"/register\")\n  }\n\n}\n","export default \"<ion-content>\\n  <div class=\\\"header-index\\\">\\n    <img class=\\\"img-header\\\" src=\\\"assets/img/background-publibike.jpg\\\">\\n    <!-- <figure text-center>\\n      <img class=\\\"logo-publibike\\\" src=\\\"assets/img/logo-publibike.png\\\">\\n    </figure> -->\\n    <div class=\\\"logo-publibike-in\\\">\\n      <img src=\\\"assets/img/logo-ekobike.png\\\">\\n    </div>\\n  </div>`\\n  <form class=\\\"form-ui\\\" [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"loginUser(loginForm.value)\\\">\\n    <ion-item color=\\\"secondary\\\">\\n      <!-- <ion-label color=\\\"primary\\\" >Email</ion-label> -->\\n      <ion-input color=\\\"tertiary\\\" formControlName=\\\"email\\\" placeholder=\\\"Correo\\\"></ion-input>\\n    </ion-item>\\n    <div class=\\\"validation-error\\\">\\n      <ng-container *ngFor=\\\"let validation of validation_messages.email\\\">\\n        <div\\n          *ngIf=\\\"loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)\\\">\\n          <p id=\\\"alertUser\\\"> {{validation.message}}</p>\\n        </div>\\n      </ng-container>\\n    </div>\\n    <ion-item color=\\\"secondary\\\">\\n      <!-- <ion-label color=\\\"primary\\\">Password</ion-label> -->\\n      <ion-input color=\\\"tertiary\\\" type=\\\"password\\\" formControlName=\\\"password\\\" placeholder=\\\"Contraseña\\\"></ion-input>\\n    </ion-item>\\n    <div class=\\\"validation-error\\\">\\n      <ng-container *ngFor=\\\"let validation of validation_messages.password\\\">\\n        <div\\n          *ngIf=\\\"loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)\\\">\\n          <p id=\\\"alertUser\\\"> {{validation.message}}</p>\\n        </div>\\n      </ng-container>\\n    </div>\\n    <p id=\\\"alertUser\\\"> {{errorMessage}}</p>\\n    <ion-button text-center class=\\\"button-login\\\" color=\\\"primary\\\" [disabled]=\\\"!loginForm.valid\\\" type=\\\"Submit\\\">\\n      INICIAR SESIÓN\\n    </ion-button>\\n  </form>\\n  <!-- <ion-footer> -->\\n    <!-- <h4 text-center color=\\\"primary\\\">O Conectate con</h4>\\n    <div class=\\\"login-social\\\">\\n      <img src=\\\"assets/img/facebook-icon-31.png\\\">\\n    </div> -->\\n    \\n  <!-- </ion-footer> -->\\n  <!-- <div class=\\\"main-wrapper\\\">\\n    <div class=\\\"form-login\\\">\\n      <form class=\\\"ui form\\\">\\n        <div class=\\\"field\\\">\\n          <input type=\\\"text\\\" name=\\\"user\\\" placeholder=\\\"Usuario\\\">\\n        </div>\\n        <div class=\\\"field\\\">\\n          <input type=\\\"password\\\" name=\\\"pass\\\" placeholder=\\\"Contraseña\\\">\\n          <a href=\\\"#\\\">¿Olvidaste tu contraseña?</a>\\n        </div>\\n        <div class=\\\"button-login\\\">\\n          <p id=\\\"alertUser\\\"></p>\\n          <a  class=\\\"ui button\\\">INICIAR SESIÓN</a>\\n        </div>\\n      </form>\\n      <h4>O Conectate con</h4>\\n      <div class=\\\"login-social\\\">\\n        <img src=\\\"assets/img/facebook-icon-31.png\\\">\\n      </div>\\n      <div class=\\\"new-user\\\">\\n        <a href=\\\"register.html\\\">¿Eres un usuario nuevo?</a>\\n      </div>\\n    </div>\\n  \\n  </div> -->\\n\\n</ion-content>\\n<ion-footer>\\n  <div class=\\\"new-user\\\">\\n    <ion-button  full outline class=\\\"register\\\" (click)=\\\"goToRegister()\\\" expand=\\\"full\\\">\\n      ¿Eres un usuario nuevo?\\n    </ion-button>\\n  </div>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}