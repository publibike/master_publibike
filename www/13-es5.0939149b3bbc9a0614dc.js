!function(){function l(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function n(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UIoA:function(u,e,t){"use strict";t.r(e),t.d(e,"ProfilePageModuleNgFactory",(function(){return O}));var i=t("8Y7J"),o=function l(){n(this,l)},r=t("pMnS"),s=t("SVse"),a=t("MKJQ"),c=t("sZkV"),b=t("s7LF"),d=t("mrSG"),g=t("u6bn"),m=function(){function u(l,e,t,i,o,r){n(this,u),this.storage=l,this.formBuilder=e,this.apiService=t,this.alertController=i,this.modalController=o,this.loadingCtrl=r,this.userId={_id:""},this.user={nombre:"",apellido:"",usuario:"",empresa:{nombre:""},reconocimientos:[],km_total:0,cal_total:0,co2_total:0,tiempo_total:0,peso:0},this.reconocimientos=[],this.slideOps={initialSlide:2,slidesPerView:4,centeredSlides:!0,speed:400},this.validation_messages={email:[{type:"required",message:"El Correo es requerido"},{type:"pattern",message:"Ingresa un correo v\xe1lido"}],empresa:{nombre:[{type:"requerido",message:"La empresa es requerida"}]}},this.updateForm=this.formBuilder.group({email:new b.c("",b.l.compose([b.l.required,b.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),empresa:{nombre:new b.c("",b.l.compose([b.l.required]))}})}var e,t,i;return e=u,(t=[{key:"ionViewDidEnter",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return this.presentLoading(),l.next=3,this.storage.get("userId");case 3:return this.userId=l.sent,this.apiService.getUserData(this.userId._id).then((function(l){return Object(d.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(l),this.storage.set("userData",l),this.user=l,console.log(this.user),this.updateForm.patchValue(this.user);case 1:case"end":return n.stop()}}),n,this)})))})),l.next=7,this.apiService.getUserRecognition(this.userId._id);case 7:this.reconocimientos=l.sent,this.reconocimientos=this.reconocimientos.reconocimientos,this.loading.dismiss(),console.log(this.reconocimientos);case 11:case"end":return l.stop()}}),l,this)})))}},{key:"ionViewWillLeave",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return this.presentLoading(),l.next=3,this.storage.get("userId");case 3:return this.userId=l.sent,this.apiService.getUserData(this.userId._id).then((function(l){return Object(d.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(l),this.storage.set("userData",l),n.next=4,this.storage.get("userData");case 4:this.user=n.sent,console.log(this.user),this.updateForm.patchValue(this.user);case 7:case"end":return n.stop()}}),n,this)})))})),l.next=7,this.apiService.getUserRecognition(this.userId._id);case 7:this.reconocimientos=l.sent,this.reconocimientos=this.reconocimientos.reconocimientos,this.loading.dismiss(),console.log(this.reconocimientos);case 11:case"end":return l.stop()}}),l,this)})))}},{key:"update",value:function(l){var n=this;this.apiService.updateUser(l).then((function(){return Object(d.a)(n,void 0,void 0,regeneratorRuntime.mark((function l(){var n;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("Datos actualizados"),l.next=3,this.alertController.create({cssClass:"my-custom-class",header:"Atenci\xf3n",message:"Datos actualizados correctamente",buttons:[{text:"Ok"}]});case 3:return n=l.sent,l.next=6,n.present();case 6:case"end":return l.stop()}}),l,this)})))}))}},{key:"showRecognition",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var u,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.apiService.getRecognitions(l.id);case 2:return u=n.sent,console.log(u),n.next=6,this.modalController.create({component:g.a,componentProps:{categoria:l.categoria,data:u}});case 6:return e=n.sent,n.next=9,e.present();case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"presentLoading",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.loadingCtrl.create({cssClass:"my-custom-class",message:"Cargando..."});case 2:return this.loading=l.sent,l.next=5,this.loading.present();case 5:case"end":return l.stop()}}),l,this)})))}},{key:"ngOnInit",value:function(){}}])&&l(e.prototype,t),i&&l(e,i),u}(),h=t("xgBC"),p=t("N/ei"),v=i.sb({encapsulation:0,styles:[["ion-avatar[_ngcontent-%COMP%]{height:120px;width:90%}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px}ion-icon[_ngcontent-%COMP%]{font-size:75px;display:block;margin-bottom:10px}ion-avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#fff}.ui[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .ui.button[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]{--background-image:url(background-ekobike.2b8acae55c341d725495.jpg) no-repeat fixed center}"]],data:{}});function f(l){return i.Ub(0,[(l()(),i.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),i.Rb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.message)}))}function C(l){return i.Ub(0,[(l()(),i.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),i.db(16777216,null,null,1,null,f)),i.tb(2,16384,null,0,s.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(l()(),i.db(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.updateForm.get("email").hasError(n.context.$implicit.type)&&(u.updateForm.get("email").dirty||u.updateForm.get("email").touched))}),null)}function R(l){return i.Ub(0,[(l()(),i.ub(0,0,null,null,7,"ion-slide",[],null,null,null,a.F,a.m)),i.tb(1,49152,null,0,c.lb,[i.h,i.l,i.z],null,null),(l()(),i.ub(2,0,null,0,5,"ion-avatar",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.showRecognition(l.context.$implicit)&&e),e}),a.u,a.b)),i.tb(3,49152,null,0,c.e,[i.h,i.l,i.z],null,null),(l()(),i.ub(4,0,null,0,1,"ion-icon",[["class","icon-tools-2"],["color","secondary"],["text-center",""]],null,null,null,a.A,a.h)),i.tb(5,49152,null,0,c.A,[i.h,i.l,i.z],{color:[0,"color"]},null),(l()(),i.ub(6,0,null,0,1,"span",[["color","secondary"]],null,null,null,null,null)),(l()(),i.Rb(7,null,["",""]))],(function(l,n){l(n,5,0,"secondary")}),(function(l,n){l(n,7,0,n.context.$implicit.categoria)}))}function I(l){return i.Ub(0,[(l()(),i.ub(0,0,null,null,3,"ion-slides",[],null,null,null,a.G,a.n)),i.tb(1,49152,null,0,c.mb,[i.h,i.l,i.z],{options:[0,"options"]},null),(l()(),i.db(16777216,null,0,1,null,R)),i.tb(3,278528,null,0,s.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.slideOps),l(n,3,0,u.reconocimientos)}),null)}function y(l){return i.Ub(0,[i.Jb(0,s.d,[i.u]),(l()(),i.ub(1,0,null,null,85,"ion-content",[["class","inside-app"],["padding",""]],null,null,null,a.x,a.e)),i.tb(2,49152,null,0,c.s,[i.h,i.l,i.z],null,null),(l()(),i.ub(3,0,null,0,83,"div",[["class","content-profile"]],null,null,null,null,null)),(l()(),i.ub(4,0,null,null,7,"div",[["class","profile-photo"]],null,null,null,null,null)),(l()(),i.ub(5,0,null,null,6,"ul",[],null,null,null,null,null)),(l()(),i.ub(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),i.ub(7,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),i.ub(8,0,null,null,1,"li",[["class","content-photo"]],null,null,null,null,null)),(l()(),i.ub(9,0,null,null,0,"img",[["src","assets/img/logo-ekobike.png"]],null,null,null,null,null)),(l()(),i.ub(10,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),i.ub(11,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),i.ub(12,0,null,null,37,"div",[["class","info-profile"]],null,null,null,null,null)),(l()(),i.ub(13,0,null,null,1,"h2",[["color","secondary"]],null,null,null,null,null)),(l()(),i.Rb(14,null,[""," "])),(l()(),i.ub(15,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(16,null,["Usuario: ",""])),(l()(),i.ub(17,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(18,null,["Empresa: ",""])),(l()(),i.ub(19,0,null,null,24,"div",[["class","data-profile ui two column grid"]],null,null,null,null,null)),(l()(),i.ub(20,0,null,null,23,"div",[["class","column"]],null,null,null,null,null)),(l()(),i.ub(21,0,null,null,22,"form",[["class","ui form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,t=l.component;return"submit"===n&&(e=!1!==i.Ib(l,23).onSubmit(u)&&e),"reset"===n&&(e=!1!==i.Ib(l,23).onReset()&&e),"ngSubmit"===n&&(e=!1!==t.update(t.updateForm.value)&&e),e}),null,null)),i.tb(22,16384,null,0,b.p,[],null,null),i.tb(23,540672,null,0,b.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),i.Mb(2048,null,b.a,null,[b.e]),i.tb(25,16384,null,0,b.j,[[4,b.a]],null,null),(l()(),i.ub(26,0,null,null,11,"ion-item",[],null,null,null,a.C,a.j)),i.tb(27,49152,null,0,c.F,[i.h,i.l,i.z],null,null),(l()(),i.ub(28,0,null,0,2,"ion-label",[["color","secondary"]],null,null,null,a.D,a.k)),i.tb(29,49152,null,0,c.L,[i.h,i.l,i.z],{color:[0,"color"]},null),(l()(),i.Rb(-1,0,["Correo Electr\xf3nico: "])),(l()(),i.ub(31,0,null,0,6,"ion-input",[["formControlName","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==i.Ib(l,32)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==i.Ib(l,32)._handleInputEvent(u.target)&&e),e}),a.B,a.i)),i.tb(32,4341760,null,0,c.Hb,[i.r,i.l],null,null),i.Mb(1024,null,b.g,(function(l){return[l]}),[c.Hb]),i.tb(34,671744,null,0,b.d,[[3,b.a],[8,null],[8,null],[6,b.g],[2,b.o]],{name:[0,"name"]},null),i.Mb(2048,null,b.h,null,[b.d]),i.tb(36,16384,null,0,b.i,[[4,b.h]],null,null),i.tb(37,49152,null,0,c.E,[i.h,i.l,i.z],null,null),(l()(),i.ub(38,0,null,null,2,"div",[["class","validation-error"]],null,null,null,null,null)),(l()(),i.db(16777216,null,null,1,null,C)),i.tb(40,278528,null,0,s.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(l()(),i.ub(41,0,null,null,2,"ion-button",[["class","ui right floated button btn-yellow edit-btn"],["color","transparency"],["type","submit"]],null,null,null,a.v,a.c)),i.tb(42,49152,null,0,c.i,[i.h,i.l,i.z],{color:[0,"color"],disabled:[1,"disabled"],type:[2,"type"]},null),(l()(),i.Rb(-1,0,["Editar Correo"])),(l()(),i.ub(44,0,null,null,5,"div",[["class","prize-profile"]],null,null,null,null,null)),(l()(),i.ub(45,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,[" \xdaltimo Reconocimientos "])),(l()(),i.ub(47,0,null,null,2,"div",[["class","prize-content"]],null,null,null,null,null)),(l()(),i.db(16777216,null,null,1,null,I)),i.tb(49,16384,null,0,s.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(l()(),i.ub(50,0,null,null,36,"div",[["class","content-activity ui two column grid"]],null,null,null,null,null)),(l()(),i.ub(51,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),i.ub(52,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,[" Total de Kilometros Recorridos "])),(l()(),i.ub(54,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),i.ub(55,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),i.Rb(56,null,[" "," "])),i.Lb(57,1),(l()(),i.ub(58,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,["Kms"])),(l()(),i.ub(60,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),i.ub(61,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,[" Total de Calor\xedas Consumidas "])),(l()(),i.ub(63,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),i.ub(64,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),i.Rb(65,null,[" "," "])),i.Lb(66,1),(l()(),i.ub(67,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,["Kcal"])),(l()(),i.ub(69,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),i.ub(70,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,[" Total de CO2 Reducido "])),(l()(),i.ub(72,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),i.ub(73,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),i.Rb(74,null,[" "," "])),i.Lb(75,1),(l()(),i.ub(76,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,["Kgr"])),(l()(),i.ub(78,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),i.ub(79,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,[" Tiempo total de actividad "])),(l()(),i.ub(81,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),i.ub(82,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),i.Rb(83,null,[" "," "])),i.Lb(84,1),(l()(),i.ub(85,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),i.Rb(-1,null,["Mins"]))],(function(l,n){var u=n.component;l(n,23,0,u.updateForm),l(n,29,0,"secondary"),l(n,34,0,"email"),l(n,40,0,u.validation_messages.email),l(n,42,0,"transparency",!u.updateForm.valid,"submit"),l(n,49,0,u.reconocimientos.length)}),(function(l,n){var u=n.component;l(n,14,0,u.user.nombre),l(n,16,0,u.user.usuario),l(n,18,0,u.user.empresa.nombre),l(n,21,0,i.Ib(n,25).ngClassUntouched,i.Ib(n,25).ngClassTouched,i.Ib(n,25).ngClassPristine,i.Ib(n,25).ngClassDirty,i.Ib(n,25).ngClassValid,i.Ib(n,25).ngClassInvalid,i.Ib(n,25).ngClassPending),l(n,31,0,i.Ib(n,36).ngClassUntouched,i.Ib(n,36).ngClassTouched,i.Ib(n,36).ngClassPristine,i.Ib(n,36).ngClassDirty,i.Ib(n,36).ngClassValid,i.Ib(n,36).ngClassInvalid,i.Ib(n,36).ngClassPending);var e=i.Sb(n,56,0,l(n,57,0,i.Ib(n,0),u.user.km_total));l(n,56,0,e);var t=i.Sb(n,65,0,l(n,66,0,i.Ib(n,0),u.user.cal_total));l(n,65,0,t);var o=i.Sb(n,74,0,l(n,75,0,i.Ib(n,0),u.user.co2_total));l(n,74,0,o);var r=i.Sb(n,83,0,l(n,84,0,i.Ib(n,0),u.user.tiempo_total));l(n,83,0,r)}))}var w=i.qb("app-profile",m,(function(l){return i.Ub(0,[(l()(),i.ub(0,0,null,null,1,"app-profile",[],null,null,null,y,v)),i.tb(1,114688,null,0,m,[h.b,b.b,p.a,c.a,c.Cb,c.Bb],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),x=t("iInd"),k=function l(){n(this,l)},O=i.rb(o,[],(function(l){return i.Fb([i.Gb(512,i.j,i.W,[[8,[r.a,w]],[3,i.j],i.x]),i.Gb(4608,s.l,s.k,[i.u]),i.Gb(4608,b.n,b.n,[]),i.Gb(4608,c.b,c.b,[i.z,i.g]),i.Gb(4608,c.Cb,c.Cb,[c.b,i.j,i.r]),i.Gb(4608,c.Gb,c.Gb,[c.b,i.j,i.r]),i.Gb(4608,b.b,b.b,[]),i.Gb(1073742336,s.b,s.b,[]),i.Gb(1073742336,b.m,b.m,[]),i.Gb(1073742336,b.f,b.f,[]),i.Gb(1073742336,c.zb,c.zb,[]),i.Gb(1073742336,b.k,b.k,[]),i.Gb(1073742336,x.n,x.n,[[2,x.s],[2,x.m]]),i.Gb(1073742336,k,k,[]),i.Gb(1073742336,o,o,[]),i.Gb(1024,x.k,(function(){return[[{path:"",component:m}]]}),[])])}))}}])}();