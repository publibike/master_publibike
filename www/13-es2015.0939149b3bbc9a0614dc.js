(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UIoA:function(l,n,u){"use strict";u.r(n),u.d(n,"ProfilePageModuleNgFactory",(function(){return z}));var t=u("8Y7J");class e{}var i=u("pMnS"),o=u("SVse"),s=u("MKJQ"),a=u("sZkV"),r=u("s7LF"),c=u("mrSG"),b=u("u6bn");class d{constructor(l,n,u,t,e,i){this.storage=l,this.formBuilder=n,this.apiService=u,this.alertController=t,this.modalController=e,this.loadingCtrl=i,this.userId={_id:""},this.user={nombre:"",apellido:"",usuario:"",empresa:{nombre:""},reconocimientos:[],km_total:0,cal_total:0,co2_total:0,tiempo_total:0,peso:0},this.reconocimientos=[],this.slideOps={initialSlide:2,slidesPerView:4,centeredSlides:!0,speed:400},this.validation_messages={email:[{type:"required",message:"El Correo es requerido"},{type:"pattern",message:"Ingresa un correo v\xe1lido"}],empresa:{nombre:[{type:"requerido",message:"La empresa es requerida"}]}},this.updateForm=this.formBuilder.group({email:new r.c("",r.l.compose([r.l.required,r.l.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),empresa:{nombre:new r.c("",r.l.compose([r.l.required]))}})}ionViewDidEnter(){return Object(c.a)(this,void 0,void 0,(function*(){this.presentLoading(),this.userId=yield this.storage.get("userId"),this.apiService.getUserData(this.userId._id).then(l=>Object(c.a)(this,void 0,void 0,(function*(){console.log(l),this.storage.set("userData",l),this.user=l,console.log(this.user),this.updateForm.patchValue(this.user)}))),this.reconocimientos=yield this.apiService.getUserRecognition(this.userId._id),this.reconocimientos=this.reconocimientos.reconocimientos,this.loading.dismiss(),console.log(this.reconocimientos)}))}ionViewWillLeave(){return Object(c.a)(this,void 0,void 0,(function*(){this.presentLoading(),this.userId=yield this.storage.get("userId"),this.apiService.getUserData(this.userId._id).then(l=>Object(c.a)(this,void 0,void 0,(function*(){console.log(l),this.storage.set("userData",l),this.user=yield this.storage.get("userData"),console.log(this.user),this.updateForm.patchValue(this.user)}))),this.reconocimientos=yield this.apiService.getUserRecognition(this.userId._id),this.reconocimientos=this.reconocimientos.reconocimientos,this.loading.dismiss(),console.log(this.reconocimientos)}))}update(l){this.apiService.updateUser(l).then(()=>Object(c.a)(this,void 0,void 0,(function*(){console.log("Datos actualizados");const l=yield this.alertController.create({cssClass:"my-custom-class",header:"Atenci\xf3n",message:"Datos actualizados correctamente",buttons:[{text:"Ok"}]});yield l.present()})))}showRecognition(l){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield this.apiService.getRecognitions(l.id);console.log(n);const u=yield this.modalController.create({component:b.a,componentProps:{categoria:l.categoria,data:n}});return yield u.present()}))}presentLoading(){return Object(c.a)(this,void 0,void 0,(function*(){this.loading=yield this.loadingCtrl.create({cssClass:"my-custom-class",message:"Cargando..."}),yield this.loading.present()}))}ngOnInit(){}}var g=u("xgBC"),h=u("N/ei"),m=t.sb({encapsulation:0,styles:[["ion-avatar[_ngcontent-%COMP%]{height:120px;width:90%}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px}ion-icon[_ngcontent-%COMP%]{font-size:75px;display:block;margin-bottom:10px}ion-avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#fff}.ui[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .ui.button[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]{--background-image:url(background-ekobike.2b8acae55c341d725495.jpg) no-repeat fixed center}"]],data:{}});function p(l){return t.Ub(0,[(l()(),t.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Rb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.message)}))}function v(l){return t.Ub(0,[(l()(),t.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,p)),t.tb(2,16384,null,0,o.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.db(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.updateForm.get("email").hasError(n.context.$implicit.type)&&(u.updateForm.get("email").dirty||u.updateForm.get("email").touched))}),null)}function f(l){return t.Ub(0,[(l()(),t.ub(0,0,null,null,7,"ion-slide",[],null,null,null,s.F,s.m)),t.tb(1,49152,null,0,a.lb,[t.h,t.l,t.z],null,null),(l()(),t.ub(2,0,null,0,5,"ion-avatar",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showRecognition(l.context.$implicit)&&t),t}),s.u,s.b)),t.tb(3,49152,null,0,a.e,[t.h,t.l,t.z],null,null),(l()(),t.ub(4,0,null,0,1,"ion-icon",[["class","icon-tools-2"],["color","secondary"],["text-center",""]],null,null,null,s.A,s.h)),t.tb(5,49152,null,0,a.A,[t.h,t.l,t.z],{color:[0,"color"]},null),(l()(),t.ub(6,0,null,0,1,"span",[["color","secondary"]],null,null,null,null,null)),(l()(),t.Rb(7,null,["",""]))],(function(l,n){l(n,5,0,"secondary")}),(function(l,n){l(n,7,0,n.context.$implicit.categoria)}))}function C(l){return t.Ub(0,[(l()(),t.ub(0,0,null,null,3,"ion-slides",[],null,null,null,s.G,s.n)),t.tb(1,49152,null,0,a.mb,[t.h,t.l,t.z],{options:[0,"options"]},null),(l()(),t.db(16777216,null,0,1,null,f)),t.tb(3,278528,null,0,o.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.slideOps),l(n,3,0,u.reconocimientos)}),null)}function y(l){return t.Ub(0,[t.Jb(0,o.d,[t.u]),(l()(),t.ub(1,0,null,null,85,"ion-content",[["class","inside-app"],["padding",""]],null,null,null,s.x,s.e)),t.tb(2,49152,null,0,a.s,[t.h,t.l,t.z],null,null),(l()(),t.ub(3,0,null,0,83,"div",[["class","content-profile"]],null,null,null,null,null)),(l()(),t.ub(4,0,null,null,7,"div",[["class","profile-photo"]],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,6,"ul",[],null,null,null,null,null)),(l()(),t.ub(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.ub(7,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.ub(8,0,null,null,1,"li",[["class","content-photo"]],null,null,null,null,null)),(l()(),t.ub(9,0,null,null,0,"img",[["src","assets/img/logo-ekobike.png"]],null,null,null,null,null)),(l()(),t.ub(10,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.ub(11,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.ub(12,0,null,null,37,"div",[["class","info-profile"]],null,null,null,null,null)),(l()(),t.ub(13,0,null,null,1,"h2",[["color","secondary"]],null,null,null,null,null)),(l()(),t.Rb(14,null,[""," "])),(l()(),t.ub(15,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(16,null,["Usuario: ",""])),(l()(),t.ub(17,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(18,null,["Empresa: ",""])),(l()(),t.ub(19,0,null,null,24,"div",[["class","data-profile ui two column grid"]],null,null,null,null,null)),(l()(),t.ub(20,0,null,null,23,"div",[["class","column"]],null,null,null,null,null)),(l()(),t.ub(21,0,null,null,22,"form",[["class","ui form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.Ib(l,23).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Ib(l,23).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.update(i.updateForm.value)&&e),e}),null,null)),t.tb(22,16384,null,0,r.p,[],null,null),t.tb(23,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Mb(2048,null,r.a,null,[r.e]),t.tb(25,16384,null,0,r.j,[[4,r.a]],null,null),(l()(),t.ub(26,0,null,null,11,"ion-item",[],null,null,null,s.C,s.j)),t.tb(27,49152,null,0,a.F,[t.h,t.l,t.z],null,null),(l()(),t.ub(28,0,null,0,2,"ion-label",[["color","secondary"]],null,null,null,s.D,s.k)),t.tb(29,49152,null,0,a.L,[t.h,t.l,t.z],{color:[0,"color"]},null),(l()(),t.Rb(-1,0,["Correo Electr\xf3nico: "])),(l()(),t.ub(31,0,null,0,6,"ion-input",[["formControlName","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.Ib(l,32)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Ib(l,32)._handleInputEvent(u.target)&&e),e}),s.B,s.i)),t.tb(32,4341760,null,0,a.Hb,[t.r,t.l],null,null),t.Mb(1024,null,r.g,(function(l){return[l]}),[a.Hb]),t.tb(34,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.o]],{name:[0,"name"]},null),t.Mb(2048,null,r.h,null,[r.d]),t.tb(36,16384,null,0,r.i,[[4,r.h]],null,null),t.tb(37,49152,null,0,a.E,[t.h,t.l,t.z],null,null),(l()(),t.ub(38,0,null,null,2,"div",[["class","validation-error"]],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,v)),t.tb(40,278528,null,0,o.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ub(41,0,null,null,2,"ion-button",[["class","ui right floated button btn-yellow edit-btn"],["color","transparency"],["type","submit"]],null,null,null,s.v,s.c)),t.tb(42,49152,null,0,a.i,[t.h,t.l,t.z],{color:[0,"color"],disabled:[1,"disabled"],type:[2,"type"]},null),(l()(),t.Rb(-1,0,["Editar Correo"])),(l()(),t.ub(44,0,null,null,5,"div",[["class","prize-profile"]],null,null,null,null,null)),(l()(),t.ub(45,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" \xdaltimo Reconocimientos "])),(l()(),t.ub(47,0,null,null,2,"div",[["class","prize-content"]],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,C)),t.tb(49,16384,null,0,o.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(50,0,null,null,36,"div",[["class","content-activity ui two column grid"]],null,null,null,null,null)),(l()(),t.ub(51,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),t.ub(52,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Total de Kilometros Recorridos "])),(l()(),t.ub(54,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),t.ub(55,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),t.Rb(56,null,[" "," "])),t.Lb(57,1),(l()(),t.ub(58,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Kms"])),(l()(),t.ub(60,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),t.ub(61,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Total de Calor\xedas Consumidas "])),(l()(),t.ub(63,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),t.ub(64,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),t.Rb(65,null,[" "," "])),t.Lb(66,1),(l()(),t.ub(67,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Kcal"])),(l()(),t.ub(69,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),t.ub(70,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Total de CO2 Reducido "])),(l()(),t.ub(72,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),t.ub(73,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),t.Rb(74,null,[" "," "])),t.Lb(75,1),(l()(),t.ub(76,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Kgr"])),(l()(),t.ub(78,0,null,null,8,"div",[["class","column"]],null,null,null,null,null)),(l()(),t.ub(79,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Tiempo total de actividad "])),(l()(),t.ub(81,0,null,null,5,"div",[["class","data-activity"]],null,null,null,null,null)),(l()(),t.ub(82,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),t.Rb(83,null,[" "," "])),t.Lb(84,1),(l()(),t.ub(85,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Mins"]))],(function(l,n){var u=n.component;l(n,23,0,u.updateForm),l(n,29,0,"secondary"),l(n,34,0,"email"),l(n,40,0,u.validation_messages.email),l(n,42,0,"transparency",!u.updateForm.valid,"submit"),l(n,49,0,u.reconocimientos.length)}),(function(l,n){var u=n.component;l(n,14,0,u.user.nombre),l(n,16,0,u.user.usuario),l(n,18,0,u.user.empresa.nombre),l(n,21,0,t.Ib(n,25).ngClassUntouched,t.Ib(n,25).ngClassTouched,t.Ib(n,25).ngClassPristine,t.Ib(n,25).ngClassDirty,t.Ib(n,25).ngClassValid,t.Ib(n,25).ngClassInvalid,t.Ib(n,25).ngClassPending),l(n,31,0,t.Ib(n,36).ngClassUntouched,t.Ib(n,36).ngClassTouched,t.Ib(n,36).ngClassPristine,t.Ib(n,36).ngClassDirty,t.Ib(n,36).ngClassValid,t.Ib(n,36).ngClassInvalid,t.Ib(n,36).ngClassPending);var e=t.Sb(n,56,0,l(n,57,0,t.Ib(n,0),u.user.km_total));l(n,56,0,e);var i=t.Sb(n,65,0,l(n,66,0,t.Ib(n,0),u.user.cal_total));l(n,65,0,i);var o=t.Sb(n,74,0,l(n,75,0,t.Ib(n,0),u.user.co2_total));l(n,74,0,o);var s=t.Sb(n,83,0,l(n,84,0,t.Ib(n,0),u.user.tiempo_total));l(n,83,0,s)}))}function I(l){return t.Ub(0,[(l()(),t.ub(0,0,null,null,1,"app-profile",[],null,null,null,y,m)),t.tb(1,114688,null,0,d,[g.b,r.b,h.a,a.a,a.Cb,a.Bb],null,null)],(function(l,n){l(n,1,0)}),null)}var O=t.qb("app-profile",d,I,{},{},[]),R=u("iInd");class _{}var z=t.rb(e,[],(function(l){return t.Fb([t.Gb(512,t.j,t.W,[[8,[i.a,O]],[3,t.j],t.x]),t.Gb(4608,o.l,o.k,[t.u]),t.Gb(4608,r.n,r.n,[]),t.Gb(4608,a.b,a.b,[t.z,t.g]),t.Gb(4608,a.Cb,a.Cb,[a.b,t.j,t.r]),t.Gb(4608,a.Gb,a.Gb,[a.b,t.j,t.r]),t.Gb(4608,r.b,r.b,[]),t.Gb(1073742336,o.b,o.b,[]),t.Gb(1073742336,r.m,r.m,[]),t.Gb(1073742336,r.f,r.f,[]),t.Gb(1073742336,a.zb,a.zb,[]),t.Gb(1073742336,r.k,r.k,[]),t.Gb(1073742336,R.n,R.n,[[2,R.s],[2,R.m]]),t.Gb(1073742336,_,_,[]),t.Gb(1073742336,e,e,[]),t.Gb(1024,R.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);