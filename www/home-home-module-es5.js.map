{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","navCtrl","storage","apiService","loadingCtrl","backgroundMode","userId","_id","user","nombre","apellido","ganancia_total","km_total","cal_total","co2_total","campanas","console","log","presentLoading","get","getUserData","then","res","set","loading","dismiss","create","cssClass","message","present","navigateForward","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot>\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"true\\\" *ngIf=\\\"user\\\">\\n  <div class=\\\"logo-publibike-in\\\">\\n    <img src=\\\"assets/img/logo-ekobike.png\\\">\\n  </div>\\n  <div class=\\\"welcome-main\\\">\\n    <h2>\\n      Hola {{user.nombre}} {{user.apellido}}\\n    </h2>\\n    <h4>\\n      Esta es la información de tu cuenta\\n    </h4>\\n  </div>\\n  <!-- <div class=\\\"date\\\">\\n    <h3>13 de Enero - 18 de Enero <i class=\\\"icon-calendar\\\"></i></h3>\\n  </div> -->\\n  <div class=\\\"ui grid\\\" style=\\\"text-align: center; padding: 20px;\\\">\\n    <div class=\\\"column data-main degrade-green\\\">\\n      <i class=\\\"icon-stats-dots\\\"></i>\\n      <h4>\\n        Ingresos Generados\\n      </h4>\\n      <h2>\\n        $ {{user.ganancia_total}}\\n      </h2>\\n    </div>\\n    <div class=\\\"column data-main degrade-orange\\\">\\n      <i class=\\\"icon-map\\\"></i>\\n      <h4>\\n        Kilometros Recorridos\\n      </h4>\\n      <h2>\\n        {{user.km_total}} <small>KM</small>\\n      </h2>\\n    </div>\\n    <div class=\\\"column data-main degrade-blue\\\">\\n      <i class=\\\"icon-heart\\\"></i>\\n      <h4>\\n        Calorías Consumidas\\n      </h4>\\n      <h2>\\n        {{user.cal_total}} <small>Kcal</small>\\n      </h2>\\n    </div>\\n    <div class=\\\"column data-main degrade-violet\\\">\\n      <i class=\\\"icon-stats-bars\\\"></i>\\n      <h4>\\n        Campañas \\n      </h4>\\n      <h2>\\n        {{user.campanas.length}}\\n      </h2>\\n    </div>\\n  </div>\\n  <div class=\\\"content-button\\\">\\n    <ion-button color=\\\"transparent\\\" full outline class=\\\"ui button begin-activity\\\" (click)=\\\"goToRute()\\\">INICIAR NUEVO\\n      RECORRIDO</ion-button>\\n    <ion-button color=\\\"transparent\\\" full outline class=\\\"ui button go-campaings\\\" (click)=\\\"goToCampaings()\\\">VER NUEVAS\\n      CAMPAÑAS</ion-button>\\n\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { RouterModule } from '@angular/router';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    RouterModule.forChild([\n      {\n        path:'',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n\\nion-buttons {\\n  background-color: var(--ion-color-primary) !important;\\n}\\n\\nion-menu-button {\\n  color: #01D9AD;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQUFGOztBQUdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQUZGOztBQUtBO0VBQ0UscUJBQUE7QUFGRjs7QUFLQTtFQUNFLHFEQUFBO0FBRkY7O0FBS0E7RUFDRSxjQUFBO0FBRkYiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgY29sb3I6ICM4YzhjOGM7XG5cbiAgbWFyZ2luOiAwO1xufVxuXG4jY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbmlvbi1idXR0b25ze1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSkgIWltcG9ydGFudDtcbn1cblxuaW9uLW1lbnUtYnV0dG9ue1xuICBjb2xvcjogIzAxRDlBRDtcbn1cblxuLy8gLmJ1dHRvbi1uYXRpdmV7XG4vLyAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbi8vIH0iXX0= */\";","import { Component } from '@angular/core';\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\n// import { CallNumberOriginal } from '@ionic-native/call-number';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { ApiPublibikeMarcaService } from '../services/api-publibike-marca.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  loading: any;\n  userId: { _id: String } = { _id: \"\" };\n  user: {\n    nombre: String,\n    apellido: String,\n    ganancia_total: number,\n    km_total: number,\n    cal_total: number,\n    co2_total: number,\n    campanas: any\n  } = {\n      nombre: \"\",\n      apellido: \"\",\n      ganancia_total: 0,\n      km_total: 0,\n      cal_total: 0,\n      co2_total: 0,\n      campanas: []\n    };\n\n  constructor(\n    private navCtrl: NavController,\n    private storage: Storage,\n    private apiService: ApiPublibikeMarcaService,\n    private loadingCtrl: LoadingController,\n    private backgroundMode: BackgroundMode, \n    // private callNumber: CallNumberOriginal\n  ) { }\n\n  async ionViewDidEnter() {\n    console.log(\"en home\")\n    this.presentLoading()\n    this.userId = await this.storage.get(\"userId\");\n    this.user = await this.apiService.getUserData(this.userId._id)\n    await this.apiService.getUserData(this.userId._id).then(async (res) => {\n      this.storage.set(\"userData\", res);\n      this.user = await this.storage.get(\"userData\");\n      console.log(res)\n      this.loading.dismiss();\n    })\n\n    // this.backgroundMode.enable();\n    // this.backgroundMode.on(\"activate\").subscribe(() => {\n    //   this.callNumber.callNumber('3507935088', true)\n    //     .then(res => console.log('Launched dialer!', res))\n    //     .catch(err => console.log('Error launching dialer', err));    \n    // })\n  }\n  // async ionViewWillLeave() {\n  //   console.log(\"en home\")\n  //   this.presentLoading()\n  //   this.userId = await this.storage.get(\"userId\");\n  //   this.user = await this.apiService.getUserData(this.userId._id)\n  //   this.apiService.getUserData(this.userId._id).then(async (res) => {\n  //     this.storage.set(\"userData\", res);\n  //     this.user = await this.storage.get(\"userData\");\n  //     console.log(res)\n  //     this.loading.dismiss();\n  //   })\n\n\n  //   // this.backgroundMode.enable();\n  //   // this.backgroundMode.on(\"activate\").subscribe(() => {\n  //   //   this.callNumber.callNumber('3507935088', true)\n  //   //     .then(res => console.log('Launched dialer!', res))\n  //   //     .catch(err => console.log('Error launching dialer', err));    \n  //   // })\n  // }\n\n  async presentLoading() {\n    this.loading = await this.loadingCtrl.create({\n      cssClass: 'my-custom-class',\n      message: 'Cargando...'\n    });\n    await this.loading.present();\n  }\n  goToRute() {\n    this.navCtrl.navigateForward(\"menu/rute\")\n  }\n  goToCampaings() {\n    this.navCtrl.navigateForward(\"menu/campaings\")\n  }\n\n}\n"]}